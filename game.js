// Translations for English and Finnish

const translations = {
  en: {
    header: "",
    piles: {
      pile1: [
        "Uhm, nothing here?",
        "You find an odd-looking coin. After a more careful examination and a little dusting, it seems to be an old gold coin from ancient times. You take it to a pawn store that is willing to pay you 200 for it. Nice!",
        "You stumble on a little rock on your path and hit your head pretty bad. Skip your next turn to recover.",
        "Hmm, just the sound of the wind.",
        "What is that on the ground? Wow, a free plane ticket! Keep this piece and use it for 1 free flight whenever.",
        "Looks like someone has dug a hole in the ground and tried to cover it. You get excited and start digging, but lose track of time while doing it. Skip your next turn. But boy, was it worth it? You find 300!", 
        "Roll the die. If you roll a 1 or 6, you get to fly for free!",
        "You lose your next turn.",
        "If the African Star has been found, you get an extra turn.",
        "Roll the die. If you roll a 1 or 6, you get another turn.",
        "Move your button to St. Helena. You can get off the island by boat for free and you don't have to worry about pirates.",
        "Roll the die. If you roll a 1 or 6, you get a free boat ride.",
        "You get an extra roll OR you may choose another player to miss their turn.",
        "Move to Madagascar.",
        "Roll the die. If you roll a 1 or 6, you get to fly for free.",
        "If someone has found the African Star, the player who found it may no longer fly home. They must travel by land and rolling even numbers.",
        "Go to Madagascar immediately. You may freely choose where on the island to place your button.",
        "It's your lucky day! You get 200 from the bank.",
        "A lion is blocking your path. Wait one turn.",
        "If you roll a 6, you may choose to fly for free instead of travelling by land.",
        "Keep the piece in front of you. From now on, you will get 100 from the bank for every blank piece you turn over.",
        "You trip on a rock and hit your head on a topaz. You get 300 from the bank, but will have to skip a turn.",
        "This is actually a horseshoe!",
        "You found a topaz. Take 300 from the bank.",
        "This piece is actually a gangster.",
        "This is really just a blank piece.",
        "You found a ruby. Take 1000 from the bank.",
        "You have to head up to the Arctic Circle. You lose two rounds.",
        "The gangster takes all your money.",
      ],
      pile2: [
        "You are ambushed by a group of bandits and lose all your money. Gosh!",
        "You are surrounded by a band of thieves, but you manage to talk yourself out by giving the location information of other players. You get to keep your money, but all other players lose 300.",
        "An unnoticed shoplifter manages to snatch 300 from you. Whoops!",
        "Opportunity makes a thief. The local bank has left a door cracked. You enter and grab a handful of bills, and it so happens that they are savings of other players. Collect 100 from each player.",
        "Why is traveling by boat so expensive? Why not just sneak in and hide in a barrel? Of course! <br> Keep this piece and use it to get 1 free boat ride.",
        "Tired of traveling, you take a nap. However, you wake up 100 poorer. Unlucky!", "You not only lose your money, but also your next turn.",
        "The gangster returns you to Start.",
        "You buried some of your money in the ground. The gangster only takes 200 from you.",
        "The robber takes almost everything, but leaves you with 100.",
        "The gangster stole your money. Wait 3 turns and collect 400 pounds from the bank. You may then resume playing.",
        "You and the gangster steal 1000 from the bank. You get to keep half of the loot. Take 500 from the bank.",
        "The gangster hesitates. Roll the die. If you get a 1 or 6, you get to keep your money. Otherwise, the gangster takes it all.",
        "You turned over the red gangster. This means that you get to choose who he will rob.",
        "You convince the gangster that there are better choices elsewhere. Choose another player for him to rob.",
        "The gangster takes everything, but you get to roll again.",
        "You refuse to give anything to the robber. Keep all of your money.",
        "From now on, everyone has to roll an even number to turn over a piece.",
        "The gangster takes your money, but he''s careless. A topaz falls on the ground from his pocket. You lose all your money, but get 300 from the bank.",
        "The gangster takes your money, but he's careless. A ruby falls on the ground from his pocket. You lose all your money, but get 1000 from the bank.",
        "The gangster takes nothing from you, but takes all the money from the player on your right.",
        "The gangster takes nothing from you, but takes all the money from the player on your left.",
        "The gangster takes your money and then stays with you. You will also lose the money you get from your next gem find.",
        "The gangster takes your money, but he's careless. An emerald falls on the ground from his pocket. You lose all your money, but get 600 from the bank.",
        "Crime wave! Everyone loses their money.",
        "The gangster takes 500 from you. If you don't have that much money, you will owe him. You must pay the debt as soon as you get more money.",
        "The gangster robs 500 from the richest player.",
        "The gangster takes half of your money. If you don't have any money, he will take you to his cave on St. Helena island.",
        "Roll the die. The gangster will give you money the rolled number times 100.",
        "The gangster takes nothing, but you must give 100 to the player on the left.",
        "The gangster robs you, but if you decide to track him down in Capetown, You get half of your lost money back.",
        "Gangsters are slowing you down. You don't lose any money, but you have to stay put for two turns.",
        
      ],
      pile3: [
        "A golden horseshoe! You have three choices: <br> 1) Exchange it for 100. <br> 2) If you take it to Gold Coast, you can exchange it for 300. <br> 3) If you take it to Capetown, you can exchange it for 500.",
        "A caravan approaches. The owner offers a free ride to St. Helena island. Take it or leave it!",
        "Unlucky! A horseshoe falls from above and knocks you out. What are the odds? Rest for the next turn.",
        "You find a lone camel wandering. On your next turn, you can travel twice the distance you roll.",
        "Mess with another player's compass. Choose a player and move them 4 steps in any direction you like.", "On your next turn, you'll move twice as far. Multiply the roll by two.",
        "You get to turn over any piece you want without showing it to others. Put it back to where it was on the board.",
        "You lose 200. If you have no money, you will owe to the bank. This must be repaid as soon as you get money.",
        "This piece is a plane ticket to Canary Islands. It leaves now!",
        "Move your piece to the Gold Coast.",
        "Go to the nearest city from where you are.",
        "You can fly for free on your next turn.",
        "You trip on a horseshoe and lose your next turn.",
        "You found a bag of topazes, but a gangster is after you and you have to hide. You get 1000, but will have to wait for three next turns.",
        "If you are the first to reach Capetown, you get 1500.",
        "You get all the money of the player sitting on your left",
        "This horseshoe is actually a ruby. Take 1000 from the bank.",
        "If you find the African Star, you will have to wait two turns.",
        "This horseshoe is actually a topaz. Take 300 from the bank.",
        "The player on your left loses their next turn.",
        "Choose one player to give you 100.",
        "If you find a gem on the Gold Coast, you get three times its normal value.",
        "Take another turn.",
        "You find a horse and can travel twice the distance on your next roll.",
        "This horseshoe is actually an emerald. Take 600 from the bank.",
        "Move your piece to any place you desire.",
      ],
    },
  },
  fi: {
    header: "",
    piles: {
      pile1: [
        "Öh, ei mitään täällä?",
        "Löydät oudon näköisen kolikon. Tarkasteltuasi sitä lähemmin ja pienen putsauksen jälkeen se osoittautuukin vanhaksi kultakolikoksi muinaisilta ajoilta. Viet sen panttiliikkeeseen, joka on valmis maksamaan siitä 200. Mahtavaa!",
        "Kompastut matkalla pieneen kiveen ja lyöt pääsi aika pahasti. Jätä seuraava vuorosi väliin toipuaksesi.",
        "Hmm, vain tuulen huminaa.",
        "Mikäs tuossa maassa on? Vau, ilmainen lentolippu! Säilytä tämä merkki ja käytä se yhteen ilmaiseen lentoon milloin tahansa.",
        "Näyttää siltä, että joku on kaivanut kuopan maahan ja yrittänyt peittää sen. Innostut ja alat kaivaa, mutta kadotat ajantajun kaivaessasi. Jätä seuraava vuorosi väliin. Mutta kyllä kannatti, löydät 300!", 
        "Heitä noppaa. Jos saat 1 tai 6, saat lentää ilmaiseksi!",
        "Menetät seuraavan vuorosi.",
        "Jos Afrikkalainen Tähti on löytynyt, saat lisävuoron.",
        "Heitä noppaa. Jos saat 1 tai 6, saat toisen vuoron.",
        "Siirrä nappulasi St. Helenalle. Pääset saarelta veneellä ilmaiseksi eikä sinun tarvitse huolehtia merirosvoista.",
        "Heitä noppaa. Jos saat 1 tai 6, saat ilmaisen venematkan.",
        "Saat ylimääräisen heiton TAI voit valita toisen pelaajan, joka menettää vuoronsa.",
        "Siirry Madagaskarille.",
        "Heitä noppaa. Jos saat 1 tai 6, saat lentää ilmaiseksi.",
        "Jos joku on löytänyt Afrikkalaisen Tähden, se pelaaja ei voi enää lentää kotiin. Hänen täytyy matkustaa maitse ja heittää parillisia numeroita.",
        "Mene heti Madagaskarille. Voit vapaasti valita, mihin saarella asetat nappulasi.",
        "Onnenpäivä! Saat 200 pankista.",
        "Leijona estää tieni. Odota yksi vuoro.",
        "Jos saat 6, voit valita lentääksesi ilmaiseksi maan matkustamisen sijaan.",
        "Pidä pala edessäsi. Tästä eteenpäin saat 100 pankista joka kerta, kun käännät tyhjän nappulan.",
        "Kompastut kiveen ja isket pääsi topaasiin. Saat 300 pankista, mutta sinun täytyy skipata vuoro.",
        "Tämä on itse asiassa hevosenkenkä!",
        "Löysit topaasin. Ota 300 pankista.",
        "Tämä nappula on itse asiassa gangsteri.",
        "Tämä on oikeasti vain tyhjä nappula.",
        "Löysit rubiinin. Ota 1000 pankista.",
        "Sinun täytyy suunnata pohjoiseen Arktiselle alueelle. Menetät kaksi vuoroa.",
        "Gangsteri vie kaikki rahasi.",
        
      ],
      pile2: [
        "Joudut rosvojoukon väijytykseen ja menetät kaikki rahasi. Voi ei!",
        "Sinut piirittää joukko varkaita, mutta onnistut puhumaan itsesi ulos tilanteesta kertomalla muiden pelaajien sijaintitiedot. Saat pitää rahasi, mutta kaikki muut pelaajat menettävät 300.",
        "Huomaamaton näpistelijä onnistuu viemään sinulta 300. Hupsis!",
        "Tilaisuus tekee varkaan. Paikallinen pankki on jättänyt oven raolleen. Astut sisään ja nappaat nipun seteleitä, ja sattumalta ne ovat muiden pelaajien säästöjä. Kerää 100 kaikilta muilta pelaajilta.",
        "Miksi laivamatkat ovat niin kalliit? Miksi en vain hiipisi sisään ja piiloutuisi tynnyriin? Tietenkin! <br> Säilytä tämä esine ja käytä se yhteen ilmaiseen venematkaan.",
        "Matkaamisesta väsyneenä otat torkut. Mutta heräät myös 100 köyhempänä. Oi voi!",
        "Et menetä vain rahojasi, vaan myös seuraavan vuorosi.",
        "Gangsteri vie sinut alkuun.",
        "Hautasit osan rahoistasi maahan. Gangsteri ottaa sinulta vain 200.",
        "Murtovaras vie melkein kaiken, mutta jättää sinulle 100.",
        "Gangsteri varasti rahasi. Odota 3 vuoroa ja nosta 400 pankista. Voit sitten jatkaa pelaamista.",
        "Sinä ja gangsteri varastatte 1000 pankista. Saat pitää puolet saaliista. Ota 500 pankista.",
        "Gangsteri epäröi. Heitä noppaa. Jos saat 1 tai 6, saat pitää rahasi. Muuten gangsteri ottaa kaiken.",
        "Sait suostuteltua gangsterin. Tämä tarkoittaa, että voit valita, kenet hän ryöstää.",
        "Vedit gangsterin puolellesi, valitse toinen pelaaja, jonka hän ryöstää.",
        "Gangsteri vie kaiken, mutta saat heittää uudestaan.",
        "Kieltäydyt antamasta mitään murtovarkaalle. Säilytät kaikki rahasi.",
        "Tästä eteenpäin kaikkien täytyy heittää parillinen numero kääntääkseen nappulan.",
        "Gangsteri vie rahasi, mutta hän on huolimaton. Topaasi putoaa maahan hänen taskustaan. Menetät kaikki rahasi, mutta saat 300 pankista.",
        "Gangsteri vie rahasi, mutta hän on huolimaton. Rubiini putoaa maahan hänen taskustaan. Menetät kaikki rahasi, mutta saat 1000 pankista.",
        "Gangsteri ei vie mitään sinulta, mutta vie kaikki rahat oikealla olevilta pelaajilta.",
        "Gangsteri ei vie mitään sinulta, mutta vie kaikki rahat vasemmalla olevilta pelaajilta.",
        "Gangsteri vie rahasi ja jää sitten kanssasi. Tulet myös menettämään rahat, jotka saat seuraavasta jalokivilöydöstäsi.",
        "Gangsteri vie rahasi, mutta hän on huolimaton. Smaragdi putoaa maahan hänen taskustaan. Menetät kaikki rahasi, mutta saat 600 pankista.",
        "Rikollisaalto! Kaikki menettävät rahansa.",
        "Gangsteri vie 500 sinulta. Jos sinulla ei ole niin paljon rahaa, jäät hänelle velkaa. Sinun täytyy maksaa velka heti, kun saat lisää rahaa.",
        "Gangsteri ryöstää 500 rikkaimmalta pelaajalta.",
        "Gangsteri vie puolet rahastasi. Jos sinulla ei ole rahaa, hän vie sinut luolaansa St. Helena -saarelle.",
        "Heitä noppaa. Gangsteri antaa sinulle rahaa nopan lukema kerrottuna 100:lla.",
        "Gangsteri ei vie mitään, mutta sinun täytyy antaa 100 vasemmalla olevalle pelaajalle.",
        "Gangsteri ryöstää sinut, mutta jos päätät jäljittää hänet Kapkaupunkiin, saat puolet menettämistäsi rahoista takaisin.",
        "Gangsterit hidastavat sinua. Et menetä rahaa, mutta sinun täytyy pysyä paikoillasi kahden vuoron ajan.",

      ],
      pile3: [
        "Kultainen hevosenkenkä! Sinulla on kolme vaihtoehtoa: <br> 1) Vaihda se 100 rahaan. <br> 2) Jos viet sen Gold Coastiin, voit vaihtaa sen 300 rahaan. <br> 3) Jos viet sen Capetowniin, voit vaihtaa sen 500 rahaan.",
        "Karavaani lähestyy. Omistaja tarjoaa ilmaisen kyydin St. Helenan saarelle. Ota tai jätä?",
        "Epäonnea! Hevosenkenkä putoaa jostakin päähäsi ja menetät tajuntasi. Mikä todennäköisyys! Lepää seuraava vuoro.",
        "Löydät yksinäisen kamelin vaeltelemassa. Seuraavalla vuorollasi voit matkustaa tuplasti pidemmälle kuin heittämäsi nopan luku.",
        "Sotke toisen pelaajan kompassi. Valitse yksi pelaaja ja liikuta hänen nappulaansa 4 askelta valitsemaasi suuntaan.", 
        "Seuraavalla vuorollasi liikut kaksi kertaa pidemmälle. Kerro heitto kahdella.",
        "Saat kääntää minkä tahansa nappulan haluamasi ilman, että näytät sitä muille. Laita se takaisin paikalleen pelilaudalle.",
        "Menetät 200. Jos sinulla ei ole rahaa, jäät velkaa pankille. Tämä täytyy maksaa heti, kun saat rahaa.",
        "Tämä nappula on lentolippu Canary Islandille. Lento lähtee nyt!",
        "Siirrä nappulasi Gold Coastille.",
        "Mene heti sinua lähinnä olevaan kaupunkiin.",
        "Saat lentää ilmaiseksi seuraavalla vuorollasi.",
        "Kompastut hevosenkenkään ja menetät seuraavan vuorosi.",
        "Löysit säkillisen topaaseja, mutta gangsteri on perässäsi ja sinun täytyy piiloutua. Saat 1000, mutta joudut odottamaan seuraavat kolme vuoroa.",
        "Jos olet ensimmäinen, joka saavuttaa Capetownin, saat 1500.",
        "Saat kaikki rahat pelaajalta, joka istuu vasemmalla puolellasi.",
        "Tämä hevosenkenkä on itse asiassa rubiini. Ota 1000 pankista.",
        "Jos löydät Afrikan Tähden, sinun täytyy odottaa kaksi vuoroa.",
        "Tämä hevosenkenkä on itse asiassa topaasi. Ota 300 pankista.",
        "Vasemmalla oleva pelaaja menettää seuraavan vuoronsa.",
        "Valitse yksi pelaaja antamaan sinulle 100.",
        "Jos löydät jalokiven Gold Coastilla, saat sen normaalin arvon kolminkertaisena.",
        "Saat toisen vuoron heti.",
        "Löysit hevosen ja voit matkustaa kaksinkertaisen matkan seuraavalla heitollasi.",
        "Tämä hevosenkenkä on itse asiassa smaragdi. Ota 600 pankista.",
        "Siirrä nappulasi mihin tahansa paikkaan, jonka haluat."
      ],
    },
  },
};

let currentLanguage = "en"; // Default language is English
let piles = translations[currentLanguage].piles; // Initialize piles based on the default language

let cardPicked = false; // Track whether a card has been picked or not

function updateLanguage() {
  const lang = translations[currentLanguage];

  // Update the header
  document.querySelector("h1").textContent = lang.header;

  // Update the piles content (images and text)
  document.querySelectorAll('.pile').forEach((pile) => {
    const pileId = pile.id;
    const pileImage = pile.querySelector('.pile-image');

    // Check if language is Finnish, change image accordingly
    if (currentLanguage === 'fi') {
      switch (pileId) {
        case 'pile1':
          pileImage.src = 'images/EmptybaseFI.jpg'; // Finnish image for pile 1
          break;
        case 'pile2':
          pileImage.src = 'images/BanditbaseFI.jpg'; // Finnish image for pile 2
          break;
        case 'pile3':
          pileImage.src = 'images/HorseshoebaseFI.jpg'; // Finnish image for pile 3
          break;
      }
    } else {
      // Default to English images if not Finnish
      switch (pileId) {
        case 'pile1':
          pileImage.src = 'images/Emptybase.jpg'; // English image for pile 1
          break;
        case 'pile2':
          pileImage.src = 'images/Banditbase.jpg'; // English image for pile 2
          break;
        case 'pile3':
          pileImage.src = 'images/Horseshoebase.jpg'; // English image for pile 3
          break;
      }
    }
  });

  // Update `piles` variable to match the new language
  piles = translations[currentLanguage].piles;

  // Hide the reset buttons initially
  document.getElementById("reset").style.display = 'none';
  document.getElementById("reset-fi").style.display = 'none';

  // Toggle visibility of reset buttons based on language (after a card has been picked)
  if (cardPicked) {
    if (currentLanguage === 'fi') {
      document.getElementById("reset-fi").style.display = 'inline-block';  // Show Finnish reset button
    } else {
      document.getElementById("reset").style.display = 'inline-block';  // Show English reset button
    }
  }
}

// Function to handle a card pick
function pickCard(pileId) {
  const cards = piles[pileId]; // Get the current pile's cards
  const randomCard = cards[Math.floor(Math.random() * cards.length)]; // Pick a random card

  // Hide all piles and reset their state
  document.querySelectorAll('.pile').forEach(pile => {
    pile.classList.add('hidden'); // Fade out unselected piles
    pile.classList.remove('scale-up'); // Remove scaling from unselected piles
  });

  // Show the chosen pile and scale it up
  const selectedPile = document.getElementById(pileId);
  selectedPile.classList.remove('hidden'); // Ensure visibility
  selectedPile.classList.add('scale-up'); // Apply scaling animation

  // Display the result message based on the current language
  const resultElement = document.getElementById("result");
  const lang = translations[currentLanguage]; // Get the current language translations

  // Show result text based on the picked card
  resultElement.innerHTML = `<p>${randomCard}</p>`;
  resultElement.style.display = 'block'; // Make sure result box is shown

  // Show the reset button (now only show the correct one based on language)
  cardPicked = true; // A card has been picked

  if (currentLanguage === 'fi') {
    document.getElementById("reset-fi").style.display = 'inline-block'; // Show Finnish reset button
  } else {
    document.getElementById("reset").style.display = 'inline-block'; // Show English reset button
  }
}

// Add event listeners to piles
document.getElementById("pile1").addEventListener("click", () => pickCard("pile1"));
document.getElementById("pile2").addEventListener("click", () => pickCard("pile2"));
document.getElementById("pile3").addEventListener("click", () => pickCard("pile3"));

// Add event listener to the language selector
document.getElementById("language").addEventListener("change", (event) => {
  currentLanguage = event.target.value; // Update the current language
  updateLanguage(); // Update the text and piles
});

// Reset game (for English reset button)
document.getElementById("reset").addEventListener("click", () => {
  document.getElementById("result").innerHTML = ""; // Clear result
  document.getElementById("result").style.display = 'none'; // Hide result box when reset

  // Reset all piles to their original state
  document.querySelectorAll('.pile').forEach(pile => {
    pile.classList.remove('hidden'); // Make all piles visible
    pile.classList.remove('scale-up'); // Remove scale-up effect
  });

  // Reset the result text based on the current language
  updateLanguage();

  // Hide the reset button again after reset
  cardPicked = false; // Reset cardPicked state
  document.getElementById("reset").style.display = 'none'; // Hide the English reset button
  document.getElementById("reset-fi").style.display = 'none'; // Hide the Finnish reset button
});

// Reset game (for Finnish reset button)
document.getElementById("reset-fi").addEventListener("click", () => {
  document.getElementById("result").innerHTML = ""; // Clear result
  document.getElementById("result").style.display = 'none'; // Hide result box when reset

  // Reset all piles to their original state
  document.querySelectorAll('.pile').forEach(pile => {
    pile.classList.remove('hidden'); // Make all piles visible
    pile.classList.remove('scale-up'); // Remove scale-up effect
  });

  // Reset the result text based on the current language
  updateLanguage();

  // Hide the reset button again after reset
  cardPicked = false; // Reset cardPicked state
  document.getElementById("reset").style.display = 'none'; // Hide the English reset button
  document.getElementById("reset-fi").style.display = 'none'; // Hide the Finnish reset button
});
